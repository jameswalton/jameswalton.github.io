---
layout: post
title: "Limit the number of generated tests in clojure.spec.test.check"
date: 2016-10-14 19:04
comments: true
categories:
- clojure
- spec
- testing
---
tl;dr this is how to limit the number of tests (in this example 50) generated by clojure.spec.test/check:

```clojure
(test/check `my-fn {:clojure.spec.test.check/opts {:num-tests 50}})
```

clojure.spec is great; clojure.spec.test.check (STC) takes it to another level.
I can spec my functions and have STC test them using inputs generated based on the input definition.
I can then have the outputs checked, along with an optional spec that specifies the relationship between the input and output.

I recently specced a function that took a collection of collections as the first argument and an additional collection that was to be added to the collections in the first argument. In reality this test took a long time to run, both locally and the CI server.
That's because by default
There are a few options for speeding up the generated tests but a quick win was to limit the number of tests generated by STC.